utility function for version 1.
version 2 is on the way--------
